<!DOCTYPE html>
<html lang="en">
    <!-- HEAD -->
    <%- include('../partials/head', {title: 'Editar Producto', stylesheet: 'admin/editCreateProduct.css'}) %>
    
    <body>

        <!-- HEADER -->
        <%- include('../partials/header') %>

        <!-- MAIN -->
        <main class="main-edit-create-form">

            <!-- TÍTULO DE LA VISTA CON EL NOMBRE DEL PRODUCTO A EDITAR -->
            <h2 class="title-edit-create-form">Editando el producto: <%= product.name %>  </h2>

            <!-- FORMULARIO DE EDICIÓN -->
            <form action="/products/edit/<%= product.id %>?_method=PUT" method="POST" enctype="multipart/form-data" id="editProduct-form">

                <!-- INPUT DEL NOMBRE DEL PRODUCTO -->
                <div class="div-edit-create-form">
                    <label for="name" class="label-normal-input">Nombre del Producto:</label>
                    <input type="text" id="name" name="name" class="normal-input" placeholder="Ej: Teléfono iPhone 13" value="<%= product.name %>">
                </div>

                <!-- INPUT DEL LA SECCIÓN DEL PRODUCTO -->
                <div class="div-edit-create-form">
                    <h3 class="title-select-edit-create-form">Sección del Producto:</h3>
                    <select name="section" class="select-edit-create-form" id="section">
                    <% for( let section of sections ) { %>
                        <option value="<%= section.id %>" <%= product.sectionId == section.id ? 'selected' : null %>><%= section.sectionName %></option> 
                    <% } %>
                    </select>
                </div>

                <!-- SELECT DE LA COLECCIÓN DEL PRODUCTO -->
                <div class="div-edit-create-form">
                    <h3 class="title-select-edit-create-form">Colección del Producto:</h3>
                    <select name="collection" class="select-edit-create-form" id="collection">
                    <% for( let collection of collections ) { %>
                        <option value="<%= collection.id %>" <%= product.collectionId == collection.id ? 'selected' : null %>><%= collection.collectionName %></option> 
                    <% } %>
                    </select>
                </div>

                <!-- INPUT DE LA MARCA DEL PRODUCTO -->        
                <div class="div-edit-create-form">
                    <h3 class="title-select-edit-create-form">Marca del Producto:</h3>
                    <select name="brand" class="select-edit-create-form" id="brand">
                        <% for( let brand of brands ) { %>
                            <option value="<%= brand.id %>" <%= product.brandId == brand.id ? 'selected' : null %>><%= brand.brandName %></option> 
                        <% } %>
                        </select>
                </div>

                <!-- INPUT DEL PRECIO DEL PRODUCTO -->
                <div class="div-edit-create-form">
                    <label for="price" class="label-normal-input">Precio del Producto:</label>
                    <input type="text" id="price" name="price" class="normal-input" placeholder="Ej: 12500" value="<%= product.price %>">
                </div>

                <!-- INPUT DEL DESCUENTO DEL PRODUCTO -->
                <div class="div-edit-create-form">
                    <label for="discount" class="label-normal-input">Descuento del Producto:</label>
                    <input type="text" id="discount" name="discount" class="normal-input" placeholder="Ej: 10" value="<%= product.discount %> ">
                </div>
                
                <!-- TEXTAREA DE LA DESCRIPCIÓN DEL PRODUCTO -->        
                <div class="div-edit-create-form">
                    <label for="description" class="label-normal-input">Descripción del Producto:</label>
                    <textarea name="description" id="description" class="textarea-edit-create-form"><%= product.description %></textarea>
                </div>


                <!-- DIV CON LA IMAGEN ACTUAL DEL PRODUCTO -->
                <div class="div-edit-create-form">
                    <h3 class="title-current-image-edit-create-form">Imagen actual: </h3>
                    <img src="/img/products/<%= product.image %>" class="current-image-edit-create-form" alt="Imagen actual del producto">
                </div>

                <!-- INPUT DE LA IMAGEN NUEVA DEL PRODUCTO -->
                <div class="div-edit-create-form">
                    <label for="image" class="label-normal-input">Imagen Nueva del Producto:</label>
                    <input type="file" id="image" name="image" class="normal-input image-input">
                </div>

                <!-- ERRORES DE VALIDACIÓN FRONT-END  -->
                <ul class="errors-frontEnd"></ul>

                <!-- BOTONES PARA BORRAR O EDITAR EL PRODUCTO -->
                <div class="buttons-edit-create-form">
                    <button type="submit" class="button-cart button-edit-create-form">Editar</button>
            </form>
                    <form action="/products/delete/<%= product.id %>?_method=DELETE" method="POST" class="form-delete">
                        <button type="submit" class="button-cart button-delete">Eliminar</button>
                    </form>
                </div>
     
        </main>

        <!-- FOOTER -->
        <%- include('../partials/footer') %>

        <script src="/js/validationEditProduct.js" crossorigin="anonymous"></script>
    </body>

</html>